{% extends "base.html" %}
{% block content %}
<style>
    /* Profile Container Styling */
    .profile-container {
        background: linear-gradient(to right, #2e3a4e, #121821);
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        max-width: 800px;
        margin: 30px auto;
        box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.2);
        color: #ffffff;
        font-family: 'Arial', sans-serif;
    }

    .profile-picture {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 3px solid #6C63FF;
        margin-bottom: 20px;
        transition: transform 0.3s ease-in-out;
    }

    .profile-picture:hover {
        transform: scale(1.1);
    }

    .profile-name {
        font-size: 2em;
        font-weight: bold;
        margin-bottom: 10px;
    }

    .profile-description {
        font-size: 1.2em;
        line-height: 1.5;
        color: #dcdcdc;
    }

    .profile-description a {
        color: #6C63FF;
        text-decoration: none;
        font-weight: bold;
    }

    .profile-description a:hover {
        color: #ffffff;
    }

    /* Section Headings */
    h2, h3 {
        color: #6C63FF;
        margin: 20px 0 10px 0;
        text-transform: uppercase;
        font-size: 1.5em;
    }

    ul {
        list-style-type: disc;
        text-align: left;
        margin: 10px 20px;
    }

    li {
        margin: 8px 0;
    }

    /* Insights Button */
    .insights-button a {
        display: inline-block;
        background: #6C63FF;
        color: #ffffff;
        text-transform: uppercase;
        font-weight: bold;
        padding: 10px 20px;
        border-radius: 25px;
        margin-top: 20px;
        text-decoration: none;
        transition: background 0.3s ease-in-out;
    }

    .insights-button a:hover {
        background: #5348b7;
    }

    /* Social Icons */
    .social-icons a {
        font-size: 1.5em;
        margin: 0 10px;
        color: #6C63FF;
        transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
    }

    .social-icons a:hover {
        color: #ffffff;
        transform: scale(1.2);
    }

    /* Cards Section */
    .card-section {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
        gap: 20px;
    }

    .card {
        background: #1f2630;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        flex: 1;
        color: #ffffff;
        text-align: left;
    }

    .card h3 {
        color: #6C63FF;
        margin-bottom: 10px;
        text-transform: uppercase;
        font-size: 1.2em;
    }

    .card ul {
        margin: 0;
        padding-left: 20px;
    }

    .card ul li {
        margin: 8px 0;
        font-size: 1em;
    }
</style>

<div class="profile-container">
    <!-- Profile Picture -->
    <img src="{{ url_for('static', filename='uploads/' + user.profile_pic) }}" alt="Profile Picture" class="profile-picture">

    <!-- Name and Description -->
    <div class="profile-name">{{ user.name }}</div>
    {% if user.institution %}
    <div class="profile-description">
        Student at {{ user.institution }} <br>
        {% if user.institution_url %}
        <a href="{{ user.institution_url }}">{{ user.institution_name }}</a>
        {% endif %}
    </div>
    {% endif %}

    <!-- Biography -->
    {% if user.biography %}
    <h2>Biography</h2>
    <p class="profile-description">
        {{ user.biography }}
    </p>
    {% endif %}

    <!-- Hobbies -->
    {% if user.hobbies %}
    <h3>Hobbies</h3>
    <ul class="profile-description">
        {% for hobby in user.hobbies.split(',') %}
        <li>{{ hobby.strip() }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    <!-- Favorite Movies -->
    {% if user.movie_interests %}
    <h3>Favorite Movies</h3>
    <ul class="profile-description">
        {% for movie in user.movie_interests.split(',') %}
        <li>{{ movie.strip() }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    <!-- Insights Button -->
    {% if user.id %}
    <div class="insights-button">
        <a href="{{ url_for('insights', user_id=user.id) }}" target="_blank">View Insights</a>
    </div>
    {% endif %}

    <!-- Social Icons -->
    <div class="social-icons">
        {% if user.email %}
        <a href="mailto:{{ user.email }}"><i class="fa fa-envelope"></i></a>
        {% endif %}
        {% if user.twitter_url %}
        <a href="{{ user.twitter_url }}" target="_blank"><i class="fa fa-twitter"></i></a>
        {% endif %}
        {% if user.linkedin_url %}
        <a href="{{ user.linkedin_url }}" target="_blank"><i class="fa fa-linkedin"></i></a>
        {% endif %}
    </div>
</div>

<!-- Interests and Watchlist Cards -->
<div class="card-section">
    {% if user.interests %}
    <div class="card">
        <h3>Interests</h3>
        <ul>
            {% for interest in user.interests %}
            <li>{{ interest }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    {% if user.watchlist %}
    <div class="card">
        <h3>Watchlist</h3>
        <ul>
            {% for movie in user.watchlist %}
            <li>{{ movie }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}
